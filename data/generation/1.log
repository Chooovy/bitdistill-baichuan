root@dgx-004:/workspace/bitdistill-baichuan/data/generation# bash generate_vllm.sh
dir /aifs4su/gov/models/baichuan-moe-hf-128k-chat-guhao-HKyue-dataset-output has existed
using 4 GPUs to generate
2024-10-20 10:26:51,309 INFO worker.py:1752 -- Started a local Ray instance.
INFO 10-20 10:26:52 llm_engine.py:75] Initializing an LLM engine (v0.4.0) with config: model='/aifs4su/gov/models/baichuan-moe-hf-128k-chat-guhao', tokenizer='/aifs4su/gov/models/baichuan-moe-hf-128k-chat-guhao', tokenizer_mode=auto, revision=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=6144, download_dir=None, load_format=auto, tensor_parallel_size=4, disable_custom_all_reduce=True, quantization=None, enforce_eager=False, kv_cache_dtype=auto, device_config=cuda, seed=0)
WARNING 10-20 10:26:53 tokenizer.py:104] Using a slow tokenizer. This might cause a significant slowdown. Consider using a fast tokenizer instead.
INFO 10-20 10:27:08 selector.py:16] Using FlashAttention backend.
(RayWorkerVllm pid=78264) INFO 10-20 10:27:09 selector.py:16] Using FlashAttention backend.
INFO 10-20 10:27:10 pynccl_utils.py:45] vLLM is using nccl==2.18.1
(RayWorkerVllm pid=78264) INFO 10-20 10:27:10 pynccl_utils.py:45] vLLM is using nccl==2.18.1
(RayWorkerVllm pid=78264) INFO 10-20 10:29:42 model_runner.py:104] Loading model weights took 49.2835 GB
(RayWorkerVllm pid=78717) INFO 10-20 10:27:09 selector.py:16] Using FlashAttention backend. [repeated 2x across cluster] (Ray deduplicates logs by default. Set RAY_DEDUP_LOGS=0 to disable log deduplication, or see https://docs.ray.io/en/master/ray-observability/ray-logging.html#log-deduplication for more options.)
(RayWorkerVllm pid=78717) INFO 10-20 10:27:10 pynccl_utils.py:45] vLLM is using nccl==2.18.1 [repeated 2x across cluster]
INFO 10-20 10:30:08 model_runner.py:104] Loading model weights took 49.2835 GB
INFO 10-20 10:30:16 ray_gpu_executor.py:240] # GPU blocks: 2976, # CPU blocks: 780
INFO 10-20 10:30:20 model_runner.py:791] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.
INFO 10-20 10:30:20 model_runner.py:795] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
(RayWorkerVllm pid=78264) INFO 10-20 10:30:20 model_runner.py:791] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.
(RayWorkerVllm pid=78264) INFO 10-20 10:30:20 model_runner.py:795] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
(RayWorkerVllm pid=78717) INFO 10-20 10:29:42 model_runner.py:104] Loading model weights took 49.2835 GB [repeated 2x across cluster]
(RayWorkerVllm pid=78264) INFO 10-20 10:30:27 model_runner.py:867] Graph capturing finished in 7 secs.
(RayWorkerVllm pid=78717) INFO 10-20 10:30:20 model_runner.py:791] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. [repeated 2x across cluster]
(RayWorkerVllm pid=78717) INFO 10-20 10:30:20 model_runner.py:795] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage. [repeated 2x across cluster]
INFO 10-20 10:30:27 model_runner.py:867] Graph capturing finished in 7 secs.
The repository for /aifs4su/gov/models/baichuan-moe-hf-128k-chat-guhao contains custom code which must be executed to correctly load the model. You can inspect the repository content at https://hf.co//aifs4su/gov/models/baichuan-moe-hf-128k-chat-guhao.
You can avoid this prompt in future by passing the argument `trust_remote_code=True`.

Do you wish to run the custom code? [y/N] y
only use 15 samples
提供一字典l目例子，其中包含一Z~R及其解、英文定x以及普通解。此~R“算C科W”，涉及科技和信息I域，其英文~椤computer science”。普通中Q椤坝算C科W”。
 提供一字典例句，包括V|~∨c解、英文解以及普通解。~∈恰柑撬」，V|e指一N甜或甜料，常作樘瘘c或解渴用。英文解 "sweet soup" 或 "dessert soup"。普通解用w字提供。
 造一新的~l目，~椤x」，表示坶xK花大量rg在籍上的人。用Z和普通提供完整定x，K⑾嚓P解翻g成英Z。

Processed prompts: 100%|| 15/15 [00:25<00:00,  1.67s/it]

o出字典l目的例：

**算C科W**
* Z：C科W
* 英文名Q：Computer Science
* 普通：算C科W

**定x**
* 算C科W是P於算和算基A的科W，包括理、O、_l和使用算系y。
* 算C科W是一T研究算C系y和算^程的科W，包括算C硬件和件、算理、算法及Y等。
* 算C科W是一T涉及算和算C系y的科W，包括算C硬件、件和算理。
* 算C科W是一T研究算C系y及算^程的科W，包括算C件、硬件以及算理。

**英文定x**
* Computer science is the study of computers and computational systems. It involves the theoretical foundations of information and computation, as well as practical techniques for their implementation and application in computer systems.
* Computer science is the scientific and practical approach to computation and its applications. It involves the study of algorithms, data structures, and the design and implementation of computer programs and systems.
* Computer science is an academic field that encompasses the theory, experimentation, and engineering that form the basis for the design and use of computers.
* Computer science is a discipline that deals with the study of computers and computational systems. It encompasses the theoretical foundations of information and computation, as well as the practical aspects of designing and building computer systems.

**普通定x**
* 算C科W是研究算C和算系y的科W。它涉及信息和算理的基A，以及算C系y的施和用。
* 算C科W是一N科W和用的方法，用於算及其用。它涉及算法、Y的研究，以及算C程序和系y的O和施。
* 算C科W是一TW科，涉及算C和算系y的研究。它包括信息和算理的理基A，以及O和建立算C系y的用方面。
* 算C科W是涉及算C和算系y研究的W科。它包括信息和算理的理基A，以及O和建立算C系y的用方面。

糖水 (Cantonese: tong4 sui2)
- V|~。禾撬
- 英文解：sweet soup / dessert soup
- 普通解：糖水

例句：
- V|：我今日食好多S，好，想杯糖水解下。
- 英文：I ate a lot today, I feel bloated, I want to drink a cup of sweet soup to relieve the bloating.
- 普通：我今天吃了很多东西，感觉有点撑，想喝杯糖水解解腻。

x(x)：一N坶xK花大量rg在籍上的人。他通常x有著O高的d趣和崆椋K且是想Mk法找rg黹x。x可能在任何地方x，o是在公共交通工具上、在咖啡^e，是在床上。他x的也非常V泛，包括文W、v史、科W等各I域。於x碚f，x已成榱怂生活的一部分，他通^xW、探索和享受。

Cantonese: (x) sik-cung: yat-jung hot-oi-yim-mak jung joi-daai-hoi-si-ging syu-ging-dik. Heung-dung joi-dik-dou yau-hai-gae-ji-gok-hing-mou-mou-hing, jung bat-jung-faat-si-hing-joi-siu-wai-kui-hing. Sik-cung-dik yau-jai-hing-hoi-hing-hing, jung-dik wui-dung-do-ding-tung-bung-gwo-si-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Sik-cung-dik jung-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si-hing-hing-joi-siu-wai-kui-hing. Siu-hing-hing-dik joi-dik-dou yau-jai-hing-hing-hing, jung-dung si

1. 短Z：?到足
Z解：?到足@短Z形容一人非常招待客人，客人感到舒m和受重。
英Z定x：「Rolls out the red carpet」is an idiom that means to welcome someone very warmly and generously, as if rolling out a red carpet for them.
普通解：?到足@短Z形容一人Υ客人非常周到，把客人作Fe一般款待。

字典l目示例：

V|~。菏掌
V|解：「收皮」在V|中是一粗俗的口Z表_，通常表示某人停止做某事，或者某人x_。@~∮形耆璧暮x，所以不在不恰的龊鲜褂谩
英文定x：“Shut up” or “Go away” in Cantonese, often used as a rude or insulting expression to tell someone to stop doing something or to leave.
普通解：「收皮」在势胀ㄔ中相於「]嘴」或「L蛋」，是一N粗俗的口Z表_，通常用碜某人停止f或x_。

注意，由於「收皮」是一粗俗的口Z表_，因此在正式或文雅的h境中不建h使用。

俗Z：「忙到七彩」
V|解：形容一人非常忙碌，忙得接不暇，o法理所有的事情。
英文解：Extremely busy, with too many things to deal with and feeling overwhelmed.
普通解：忙到不知所措，o法λ有的事情。

例如：
| Z        | Z解       | English       | 普通       |
| ----------- | -------------- | ------------- | ------------ |
| 芝士        | 乳酪/起司       | Cheese        | 奶酪/芝士     |
| 芝士火腿三文治  | 含有芝士和火腿的三明治 | Cheese and Ham Sandwich | 奶酪火腿三明治 |
| 芝士蛋糕     | 含有芝士的蛋糕   | Cheese Cake   | 奶酪蛋糕     |
| 芝士波浪脆   | 芝士口味的薯片   | Cheese Wave   | 奶酪波浪脆   |

Cantonese Expression: 佑 (móuh gai)
Explanation in Cantonese: "" means 'no', and "" means 'plan' or 'trick'. So, the phrase '佑' literally means 'no plan' or 'no trick'. It is used to express a situation where there are no viable options or solutions to a problem.
Equivalent Meaning in Mandarin: 没办法 (méi bàn fǎ)
English Definition: The expression "佑" conveys that one is out of options or has exhausted all possibilities. It implies a sense of helplessness or frustration when faced with an unsolvable problem or when all attempts to find a solution have failed.

洗冷水面 (Cantonese)
Literal Translation: Washing cold water noodles
Figurative Meaning: To wash one's face with cold water in the morning, symbolizing facing reality with a clear and sober mind.

洗冷水面 (Mandarin)
Literal Translation: Washing cold water noodles
Figurative Meaning: To wash one's face with cold water in the morning, symbolizing facing reality with a clear and sober mind.

English Definition: To face reality with a clear and sober mind.

吃 (chīfàn)
1. 名词：吃是“品L食物”的Q。在Z中，它通常c量~“餐”一起出F。例如，“吃餐”(chīcānfàn)表示“吃”。
2. 釉~：吃也可以作釉~硎褂茫表示在餐d或家中享用食物。

英文定x：to have a meal

注意：“吃”在普通和Z中都是一常用~Z，但在不同地^可能有不同的用法。

例子：

Z：
食住 - sik6 zyu6
行住 - hang4 zyu6

普通：
吃 - chī
住 - zhù

英文：
eating
living

"食住" 在Z中表示正在持mM食，就像 "eating" 在英文中表示正在持mM食。"行住" 在Z中表示正在持m行走，就像 "walking" 在英文中表示正在持m行走。"住" 在普通中表示居住，而 "zhù" 是它的拼音，@在普通和拼音中是一拥摹

~。骸高碓」
解：求或感x的~。相於英文的 "please" 或 "thank you"。
翻g：
- 英文：please/thank you
- 普通：/xx

---

**走火入魔** (zau2 h?t3 jap6 mok6)
- Z解：@成Z通常是指一人δ臣事情十分狂幔沉迷其中，到了失去理智、失去自我控制的程度。在武b小f或≈校@~常用硇稳菥武^於入迷，以至於出F精神ey的情r。
- 英文定x：Obsession; to be so obsessed with something that one loses touch with reality.
- 普通解：入迷;沉迷於某事物到_失去理智的地步。

例如：
- Z例句：谧罱o新技能，我心唔走火入魔。
- 英文g文：He has been practicing a new skill recently, and I am worried that he might become obsessed with it.
- 普通例句：他最近一直在一新技能，我心他不入迷。


~l例子：

**附俟司**

* Z解：附俟司是一凫读硪^大公司或母公司的立法人w。在企IY中，附俟司通常具有自己的管理架、I者\作和蟾妗Ｄ腹司和附俟司之g可能存在股份所有嗪唾Y金PS，但附俟司有自己的股|K可自主I。附俟司在金融及商I界中扮演重要角色，如U大市龇蓊~、降低LU、提供不同市龅漠a品和服盏取

* 英文定x：A subsidiary is a company that is owned or controlled by another company, known as the parent company. A subsidiary can be a separate legal entity with its own management, operations, and financial statements, but its parent company holds a majority stake in its ownership and may exert control over its policies and practices. Subsidiaries play a significant role in the financial and business sectors, such as market expansion, risk diversification, and provision of products and services across different markets.

* 普通解：附俟司是一家由母公司碛谢蚩刂频墓司，可以是一立的法人w，碛凶约旱墓芾印I者\作和蟊怼８俟司在金融和商II域l]著重要作用，例如U大市龇蓊~、降低LU和提供不同市龅漠a品和服铡

@M字典l目例子包括：

- Z~。菏车名y~淡得渴
- Z解：形容能蛉淌芤r的不m，以Q取L久的利益
- 英文定x：a willingness to endure short-term discomfort for long-term benefits
- 普通解：能蛉淌芤r的不m，以Q取L久的利益
(RayWorkerVllm pid=78603) INFO 10-20 10:30:27 model_runner.py:867] Graph capturing finished in 7 secs. [repeated 2x across cluster]